(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(22)},19:function(e,t,a){},20:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),c=a(10),r=a.n(c),o=(a(19),a(2)),i=a(3),s=a(5),m=a(4),u=a(6),d=function(e){return n.a.createElement("div",{className:"label_area"},n.a.createElement("div",null,n.a.createElement("div",{className:"title"},"Threshold: ",e.threshold),n.a.createElement("div",{className:"subtitle"},"i.e. accept everyone with credit scores above ",e.threshold)))},h=a(1),p=function(e){var t=e.people,a=e.threshold,l=10,c=10,r=Object(h.a)().domain([600,850]).range([c,580-2*c-l]),o=Object.values(t),i=r(850)-r(600);return n.a.createElement("div",{className:"people_area"},n.a.createElement("div",{style:{width:580}},n.a.createElement("svg",{width:"100%",height:"170px"},o.map(function(t){return function(e,t,a){var l=e.payback?"black":"red",c=t(e.score[a]);return n.a.createElement("g",{fill:l},n.a.createElement("circle",{cx:c,cy:80,r:10}),n.a.createElement("line",{x1:c,y1:80,x2:c,y2:120,stroke:l,"stroke-width":4}),n.a.createElement("line",{x1:c,y1:120,x2:c-10,y2:140,stroke:l,"stroke-width":4}),n.a.createElement("line",{x1:c,y1:120,x2:c+10,y2:140,stroke:l,"stroke-width":4}),n.a.createElement("line",{x1:c-10,y1:100,x2:c+10,y2:100,stroke:l,"stroke-width":4}),n.a.createElement("text",{x:t(e.score[a]),y:50,"text-anchor":"middle"},e.score[a]))}(t,r,e.modelNumber)}),n.a.createElement("rect",{x:r(a),y:20,width:r(850)-r(a),height:140,fill:"white","fill-opacity":"0.2"}),n.a.createElement("rect",{x:r(600)-c,y:20,width:r(a)-r(600)+c,height:140,fill:"black","fill-opacity":"0.4"}),n.a.createElement("line",{x1:r(a),x2:r(a),y1:20,y2:160,stroke:"black","stroke-width":5,"stroke-dasharray":"4"}))),n.a.createElement("div",{style:{width:580,padding:0,margin:0}},n.a.createElement("input",{type:"range",min:600,max:850,value:a,style:{width:i,margin:c,float:"left"},onChange:e.changeThreshold})),n.a.createElement("div",null))},E=a(8),y=a(7),b=a(11),f=a(12),v=(a(20),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.renderAxis()}},{key:"componentDidUpdate",value:function(){this.renderAxis()}},{key:"renderAxis",value:function(){var e="axis".concat(this.props.orient),t=f[e]().scale(this.props.scale).tickSize(-this.props.tickSize).tickPadding([12]).ticks([4]);Object(y.a)(this.axisElement).call(t)}},{key:"render",value:function(){var e=this;return n.a.createElement("g",{className:"Axis Axis-".concat(this.props.orient),ref:function(t){e.axisElement=t},transform:this.props.translate})}}]),t}(l.Component)),k=function(e){var t=e.scales,a=e.margins,l=e.svgDimensions,c=l.height,r=l.width,o={orient:"Bottom",scale:t.xScale,translate:"translate(0, ".concat(c-a.bottom,")"),tickSize:c-a.top-a.bottom},i={orient:"Left",scale:t.yScale,translate:"translate(".concat(a.left,", 0)"),tickSize:r-a.left-a.right};return n.a.createElement("g",null,n.a.createElement(v,o),n.a.createElement(v,i))},g=function(e){var t=e.reduce(function(e,t){return e+t});return[0].concat(function(e){var t=[];return e.reduce(function(e,a,l){return t[l]=e+a,t[l]},0),t}(e)).map(function(e){return(t-e)/t})},x=function(e,t,a,l){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return e.map(function(e,a){return[e,t[a]]}).map(function(e){var t=Object(E.a)(e,2),r=t[0],o=t[1];return n.a.createElement("circle",{cx:a(r),cy:l(o),r:c.r||4})})},N=function(e){var t,a=Object(E.a)(e.size,2),l=a[0],c=a[1],r=e.index||0,o=(t=e.players,g(t.map(function(e){return!e}))),i=function(e){return g(e)}(e.players),s={top:20,right:20,bottom:30,left:60},m=Object(h.a)().domain([0,1]).range([s.left,l-s.left-s.right]),u=Object(h.a)().domain([0,1]).range([c-s.top-s.bottom,s.top]);return n.a.createElement("div",null,n.a.createElement("div",{className:"title"},"ROC curve"),n.a.createElement("svg",{width:l,height:c},n.a.createElement("rect",{x:s.left,width:l-2*s.left-s.right,y:s.top,height:c-2*s.top-s.bottom,fill:"#9DF","fill-opacity":"0.3"}),n.a.createElement(k,{scales:{xScale:m,yScale:u},margins:s,svgDimensions:{width:l-s.left,height:c-s.top}}),n.a.createElement("g",{className:"line"},function(e,t,a,l){var c=e.map(function(e,a){return[e,t[a]]}),r=Object(b.a)().x(function(e){return a(e[0])}).y(function(e){return l(e[1])})(c);return n.a.createElement("path",{d:r})}(o,i,m,u)),n.a.createElement("g",{className:"scatter"},x(o,i,m,u),x([o[r]],[i[r]],m,u,{r:16})),n.a.createElement("g",null,n.a.createElement("text",{transform:"rotate(-90)",y:"5",dy:"0.71em",x:"-150",textAnchor:"middle"},"TPR")),n.a.createElement("g",null,n.a.createElement("text",{y:c-25,dy:"0.71em",x:l/2,textAnchor:"middle"},"FPR"))))},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return Number(e).toFixed(t)},O=function(e){var t=e.payback,a=e.noPayback;return n.a.createElement("div",{className:"table_area"},n.a.createElement("div",null,n.a.createElement("table",null,n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Accepted"),n.a.createElement("th",null,"Total"),n.a.createElement("th",null,"Positive rate"),n.a.createElement("th",null)),n.a.createElement("tr",null,n.a.createElement("td",{className:"actual_payment_class"},"Pay back"),n.a.createElement("td",null,t.accepted),n.a.createElement("td",null,t.total),n.a.createElement("td",null,t.accepted,"/",t.total),n.a.createElement("td",null,"(TPR)")),n.a.createElement("tr",null,n.a.createElement("td",{className:"actual_payment_class"},"Default"),n.a.createElement("td",null,a.accepted),n.a.createElement("td",null,a.total),n.a.createElement("td",null,a.accepted,"/",a.total),n.a.createElement("td",null,"(FPR)")),n.a.createElement("tr",null,n.a.createElement("td",{className:"actual_payment_class"},"Total"),n.a.createElement("td",null,t.accepted+a.accepted),n.a.createElement("td",null,t.total+a.total))))),n.a.createElement("div",null,n.a.createElement("table",null,n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Measurement"),n.a.createElement("th",null,"Fraction"),n.a.createElement("th",null,"Value")),n.a.createElement("tr",null,n.a.createElement("td",{className:"actual_payment_class"},"True positive rate"),n.a.createElement("td",null,t.accepted,"/",t.total),n.a.createElement("td",null,w(t.accepted/t.total))),n.a.createElement("tr",null,n.a.createElement("td",{className:"actual_payment_class"},"False positive rate"),n.a.createElement("td",null,a.accepted,"/",a.total),n.a.createElement("td",null,w(a.accepted/a.total))),n.a.createElement("tr",null,n.a.createElement("td",{className:"actual_payment_class"},"Precision"),n.a.createElement("td",null,t.accepted,"/",t.accepted+a.accepted),n.a.createElement("td",null,w(t.accepted/(t.accepted+a.accepted)))),n.a.createElement("tr",null,n.a.createElement("td",{className:"actual_payment_class"},"Recall"),n.a.createElement("td",null,t.accepted,"/",t.total),n.a.createElement("td",null,w(t.accepted/t.total)))))),n.a.createElement("div",{className:"model_choice"},n.a.createElement("h5",null,"Model choice"),["Perfect Model","Model 1","Model 2"].map(function(t,a){return n.a.createElement("div",null,n.a.createElement("input",{type:"radio",name:"model",value:a,checked:e.modelNumber===a,onChange:e.onChange}),"\xa0\xa0",t)})))},j=(a(21),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={threshold:750,people:{andy:{payback:!1,score:[650,600,610]},heather:{payback:!1,score:[630,620,650]},bobby:{payback:!0,score:[715,650,630]},charles:{payback:!1,score:[670,680,760]},inga:{payback:!0,score:[750,710,780]},del:{payback:!1,score:[680,740,720]},elenor:{payback:!0,score:[800,780,680]},frankie:{payback:!0,score:[820,810,810]},martha:{payback:!0,score:[845,840,845]}},modelNumber:1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"getTally",value:function(){var e=this,t={accepted:0,total:0},a={accepted:0,total:0};return Object.values(this.state.people).forEach(function(l){var n=l.payback?t:a;l.score[e.state.modelNumber]>=e.state.threshold&&(n.accepted+=1),n.total+=1}),{payback:t,noPayback:a,numRejected:t.total-t.accepted+a.total-a.accepted}}},{key:"getPlayerOrder",value:function(){var e=this.state.modelNumber;return Object.values(this.state.people).sort(function(t,a){return t.score[e]-a.score[e]}).map(function(e){return e.payback})}},{key:"render",value:function(){var e=this,t=this.getTally(),a=t.payback,l=t.noPayback,c=t.numRejected,r=this.state.threshold;return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"grid-container"},n.a.createElement(p,{threshold:r,changeThreshold:function(t){return e.setState({threshold:t.target.value})},people:this.state.people,modelNumber:this.state.modelNumber}),n.a.createElement(d,{threshold:r}),n.a.createElement("div",{className:"plot_area"},n.a.createElement(N,{size:[650,520],players:this.getPlayerOrder(),index:c})),n.a.createElement(O,{payback:a,noPayback:l,modelNumber:this.state.modelNumber,onChange:function(t){return e.setState({modelNumber:t.target.value})}})))}}]),t}(l.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,1,2]]]);
//# sourceMappingURL=main.073b7980.chunk.js.map